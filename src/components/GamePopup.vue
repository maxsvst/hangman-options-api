<template>
  <div v-show="isPopupVisible" class="popup-container">
    <div class="popup">
      <h2 v-if="gameStatus === 'win'">–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, –≤—ã –ø–æ–±–µ–¥–∏–ª–∏! üòÉ</h2>
      <template v-else>
        <h2>–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏. üòï</h2>
        <h3>–ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ –∏–º—è: {{ name }}</h3>
      </template>
      <button @click="$emit('restartGame')">–°—ã–≥—Ä–∞—Ç—å –µ—â–µ —Ä–∞–∑</button>
    </div>
  </div>
</template>

<script lang="ts">
import { defineComponent } from "vue";
import { gameStatus } from "../type/gameStatus";

export default defineComponent({
  props: {
    name: {
      type: String,
      required: true,
    },
  },
  data() {
    return {
      isPopupVisible: Boolean(false),
      gameStatus: "",
    };
  },
  methods: {
    openPopup(status: gameStatus) {
      this.gameStatus = status;
      this.isPopupVisible = true;
    },
    closePopup(status: gameStatus) {
      this.gameStatus = status;
      this.isPopupVisible = false;
    },
  },
  expose: ["openPopup", "closePopup"],
  emits: ["restartGame"],
});
</script>
